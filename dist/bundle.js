(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var i=n.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=async e=>{try{const t=await fetch(e);return await t.json()}catch(e){console.log("Fetch error ",e)}},{TMDB:n}={TMDB:"dc9f943d0fe5552aeb63a64c37f09bee"},i=`https://api.themoviedb.org/3/movie/popular?api_key=${n}`,{TMDB:s}={TMDB:"dc9f943d0fe5552aeb63a64c37f09bee"},a=`https://api.themoviedb.org/3/trending/movie/week?api_key=${s}`,{TMDB:o}={TMDB:"dc9f943d0fe5552aeb63a64c37f09bee"},l=`https://api.themoviedb.org/3/tv/popular?api_key=${o}`,c=()=>"\n        <h1>NotFound404</h1>\n    ",r=e.p+"images/21b8ee6a8d09bc88c799fa3ed5c172bf.svg",d=e.p+"images/6f2ef113ea4ee3d09ef082e3ce34f27a.svg",{TMDB:m}={TMDB:"dc9f943d0fe5552aeb63a64c37f09bee"},{TMDB:p}={TMDB:"dc9f943d0fe5552aeb63a64c37f09bee"},{TMDB:_}={TMDB:"dc9f943d0fe5552aeb63a64c37f09bee"},h=`https://api.themoviedb.org/3/movie/popular?api_key=${_}`,v=e.p+"images/7954b1e6d1ca4f326a083544af66324d.svg",g=e.p+"images/f17231f33051d53d0648c9fe34387b2c.svg",{TMDB:u}={TMDB:"dc9f943d0fe5552aeb63a64c37f09bee"},w=`https://api.themoviedb.org/3/genre/movie/list?api_key=${u}`,f=()=>(firebase.apps.length||firebase.initializeApp({apiKey:"AIzaSyAsVW-VCmfN6wmlCAqcRhBD0WWOrgFpMg0",authDomain:"movies-for-all-1b4ea.firebaseapp.com",projectId:"movies-for-all-1b4ea",storageBucket:"movies-for-all-1b4ea.appspot.com",messagingSenderId:"1081361549810",appId:"1:1081361549810:web:cd62e53fd51848e2f6836b"}),{firebase}),{firebase:b}=f(),{TMDB:$}={TMDB:"dc9f943d0fe5552aeb63a64c37f09bee"},{firebase:y}=f(),L=(e,t,n)=>{let i,s;y.firestore().collection("users").get().then((t=>{const n=t.docs.filter((t=>t.id===e.uid));i=n[0].data().watchlist.movies,s=n[0].data().watchlist.tvShows})).then((()=>{null!=t&&null!=n&&("movie"===n?i.push(t):"tvshow"===n&&s.push(t))})).then((()=>{null!=t&&null!=n&&y.firestore().collection("users").doc(e.uid).set({info:{email:e.email,name:e.displayName,photo:e.photoURL},watchlist:{movies:i,tvShows:s}})})).catch((e=>{console.log("Error getting document:",e)}))},{firebase:E}=f(),{firebase:B}=f(),M=()=>{const e=document.getElementById("form_Join");e.addEventListener("submit",(t=>{t.preventDefault();const n=document.getElementById("Name_Join").value,i=document.getElementById("Email_Join").value,s=document.getElementById("Password_Join").value;B.auth().createUserWithEmailAndPassword(i,s).then((t=>{e.reset(),(e=>{const t=E.auth().currentUser;t.updateProfile({displayName:e}).then((()=>{L(t)})).catch((e=>{console.log(e)}))})(n)})).catch((e=>{const t=e.code;console.log(t);const n=e.message;console.log(n)}))}))},{firebase:k}=f(),{firebase:S}=f(),{firebase:I}=f(),T={"/":async()=>(document.getElementById("search").addEventListener("keyup",(e=>{const t=document.querySelectorAll(".item_link-image"),n=e.target.value.toLowerCase();t.forEach((e=>{e.attributes[2].value.toLocaleLowerCase().includes(n)?e.style.display="block":e.style.display="none"}))})),`\n      <div class="Section">\n        ${await(async()=>`\n    <div class="Section_title-container">\n        <h2 class="Section_title">Populares</h2>\n    </div>\n    <div class="Section_container-movies">\n        ${(await t(i)).results.map((e=>`\n            <a href="#/movie/${e.id}/${e.title.replace(/ /g,"-")}" class="item_link-image" data-name="${e.title}" data-genreIds="${e.genre_ids}">\n                <img class="item_image" src="https://www.themoviedb.org/t/p/w220_and_h330_face/${e.poster_path}" alt=${e.id}>\n                <p class="item_title">${e.title}</p>\n                <div class="item_vote-container">\n                  <p class="item_vote">${e.vote_average}</p>\n                </div>\n            </a>\n        `)).join("")}\n    </div>\n  `)()}\n        ${await(async()=>`\n    <div class="Section_title-container">\n        <h2 class="Section_title">Tendencias de la semana</h2>\n    </div>\n    <div class="Section_container-movies">\n        ${(await t(a)).results.map((e=>`\n            <a href="#/movie/${e.id}/${e.title.replace(/ /g,"-")}" class="item_link-image" data-name="${e.title}" data-genreIds="${e.genre_ids}">\n                <img class="item_image" src="https://www.themoviedb.org/t/p/w220_and_h330_face/${e.poster_path}" alt=${e.id}>\n                <p class="item_title">${e.title}</p>\n                <div class="item_vote-container">\n                  <p class="item_vote">${e.vote_average}</p>\n                </div>\n            </a>\n        `)).join("")}\n    </div>\n  `)()}\n        ${await(async()=>`\n        <div class="Section_title-container">\n            <h2 class="Section_title">Series Populares</h2>\n        </div>\n        <div class="Section_container-movies">\n            ${(await t(l)).results.map((e=>`\n                <a href="#/tvshow/${e.id}/${e.original_name.replace(/ /g,"-")}" class="item_link-image" data-name="${e.original_name}" data-genreIds="${e.genre_ids}">\n                    <img class="item_image" src="https://www.themoviedb.org/t/p/w220_and_h330_face/${e.poster_path}" alt=${e.id}>\n                    <p class="item_title">${e.original_name}</p>\n                    <div class="item_vote-container">\n                      <p class="item_vote">${e.vote_average}</p>\n                    </div>\n                </a>\n            `)).join("")}\n        </div>\n    `)()}\n      </div>\n    `),"/movie/":async()=>{const e=`https://api.themoviedb.org/3/movie/${window.location.hash.slice(1).split("/")[2]}?api_key=${m}`,n=await t(e);return`\n        <div class="Details-container">\n            <div class="details_image-conatiner">\n                <img class="details_image" src="https://www.themoviedb.org/t/p/w220_and_h330_face/${n.backdrop_path}" alt="Poster ${n.original_title}">\n            </div>\n            <div class="details_info-conatiner">\n                <h1 class="details_title">${n.original_title}</h1>\n                <div class="details_info-votes">\n                    <div class="details_info-votes-container">\n                        <div class="votes_circle">\n                            <p class="details_votes">${n.vote_average}</p>\n                        </div>\n                    </div>\n                    <p class="details_counts">Voters: ${n.vote_count}</p>\n                    <p class="details_year">Year: ${n.release_date.slice(0,4)}</p>\n                </div>\n                <div>\n                    ${n.genres.map((e=>`<p class="details_genre">${e.name}</p>`)).join("")}\n                </div>\n                <div class="details_description">\n                    <p>\n                        ${n.overview}\n                    </p>\n                </div>\n                <div class="production_container">\n                ${n.production_companies.map((e=>`<p class="production_name">${e.name}</p>`)).join("")}\n                </div>\n            </div>\n            <img src="${r}" class="mas" id="mas" alt="mas">\n            <img src="${d}" class="menos" id="menos" alt="menos">\n        </div>\n    `},"/tvshow":async()=>{const e=`https://api.themoviedb.org/3/tv/${window.location.hash.slice(1).split("/")[2]}?api_key=${p}`,n=await t(e);return`\n        <div class="Details-container">\n            <div class="details_image-conatiner">\n                <img class="details_image" src="https://www.themoviedb.org/t/p/w300_and_h450_bestv2/${n.poster_path}" alt="Poster ${n.original_name}">\n            </div>\n            <div class="details_info-conatiner">\n                <h1 class="details_title">${n.original_name}</h1>\n                <div class="details_info-votes">\n                    <div class="details_info-votes-container">\n                        <div class="votes_circle">\n                            <p class="details_votes">${n.vote_average}</p>\n                        </div>\n                    </div>\n                    <p class="details_counts">Voters: ${n.vote_count}</p>\n                    <p class="details_year">Year: ${n.first_air_date.slice(0,4)}</p>\n                    <p class="details_LastEpisode">Episodes: ${n.number_of_episodes}</p>\n                    <p class="details_seasons">Seasons: ${n.seasons.length}</p>\n                </div>\n                <div>\n                    ${n.genres.map((e=>`<p class="details_genre">${e.name}</p>`)).join("")}\n                </div>\n                <div class="details_description">\n                    <p>\n                        ${n.overview}\n                    </p>\n                </div>\n                <div class="production_container">\n                ${n.production_companies.map((e=>`<p class="production_name">${e.name}</p>`)).join("")}\n                </div>\n            </div>\n            <img src="${r}" class="mas" id="mas" alt="mas">\n            <img src="${d}" class="menos" id="menos" alt="menos">\n        </div>\n    `},"/genre/":async()=>{const e=(await t(h)).results,n=window.location.hash.slice(1).split("/")[3].replace(/-/g," "),i=window.location.hash.slice(1).split("/")[2],s=e.map((e=>e.genre_ids.filter((e=>e==i)))),a=[];for(let t=0;t<e.length;t++)s[t]==i&&a.push(e[t]);return 0===a.length?'\n    <div class="Section_title-container">\n      <h2 class="Section_title">Upss! There is nothing in this genre, at the moment....</h2>\n    </div>':`\n          <div class="Section_title-container">\n            <h2 class="Section_title">${n}</h2>\n          </div>\n          <div class="Section_container-movies">\n              ${a.map((e=>`\n                  <a href="#/movie/${e.id}/${e.title.replace(/ /g,"-")}" class="item_link-image" data-name="${e.title}" data-genreIds="${e.genre_ids}">\n                      <img class="item_image" src="https://www.themoviedb.org/t/p/w220_and_h330_face/${e.poster_path}" alt=${e.id}>\n                      <p class="item_title">${e.title}</p>\n                      <div class="item_vote-container">\n                        <p class="item_vote">${e.vote_average}</p>\n                      </div>\n                  </a>\n              `)).join("")}\n          </div>\n      `},"/watch-":async()=>{const e=await b.auth().currentUser;let n,i;return b.firestore().collection("users").get().then((t=>{const s=t.docs.filter((t=>t.id===e.uid));n=s[0].data().watchlist.movies,i=s[0].data().watchlist.tvShows})).then((()=>{const e=document.getElementById("watch-list_container_movies");n.map((async n=>{const i=`https://api.themoviedb.org/3/movie/${n}?api_key=${$}`,s=await t(i);e.innerHTML+=`\n          <div class="watch-list_item">\n            <img class="watch-list_item_image" src="https://www.themoviedb.org/t/p/w220_and_h330_face/${s.poster_path}" alt="Poster de la pelicula ${s.original_title}" />\n            <p class="watch-list_item_title"><a class="watch-list_item_link" href="#/movie/${s.id}/${s.title.replace(/ /g,"-")}">${s.original_title}</a></p>\n            <img src="${d}" class="menosWatchList" id="menosWatchList" alt="menos" />\n          </div>\n        `}))})).then((()=>{const e=document.getElementById("watch-list_container_tvshows");i.map((async n=>{const i=`https://api.themoviedb.org/3/tv/${n}?api_key=${$}`,s=await t(i);e.innerHTML+=`\n          <div class="watch-list_item">\n            <img class="watch-list_item_image" src="https://www.themoviedb.org/t/p/w300_and_h450_bestv2/${s.poster_path}" alt="Poster de la pelicula ${s.original_title}" />\n            <p class="watch-list_item_title"><a class="watch-list_item_link" href="#/tvshow/${s.id}/${s.original_name.replace(/ /g,"-")}">${s.original_name}</a></p>\n            <img src="${d}" class="menosWatchList" id="menosWatchList" alt="menos" />\n          </div>\n        `}))})).catch((e=>{const t=document.getElementById("watch-list_title"),n=document.getElementById("watch-list_container_sections");t.innerText="An error has occurred, please click on the logo",n.innerHTML="",console.log("Error getting document:",e),console.clear()})),'\n    <section class="watch-list_section">\n      <div class="watch-list_conatiner_title">\n        <h2 class="watch-list_title" id="watch-list_title">Watch List</h2>\n      </div>\n      <div class="watch-list_container_sections" id="watch-list_container_sections">\n        <div class="watch-list_sections">\n          <h3 class="watch-list_sections_titles">Movies</h3>\n          <div class="watch-list_items_container" id="watch-list_container_movies"></div>\n        </div>\n        <div class="watch-list_sections">\n          <h3 class="watch-list_sections_titles">Tv Shows</h3>\n          <div class="watch-list_items_container" id="watch-list_container_tvshows"></div>\n        </div>\n      </div>\n    </section>\n  '},"/login/":()=>'\n        <div class="form_container">\n          <h2 class="title_login">Log in</h2>\n            <form class="form_login" id="form_Login">\n              <label for="Email_Login" class="form-label">Email</label>\n              <input type="email" class="form-input" id="Email_Login">\n              <label for="Password_Login" class="form-label">Password</label>\n              <input type="password" class="form-input" id="Password_Login">\n              <button type="submit" class="form_buttom" id="form_buttom">Submit</button>\n            </form>\n            <div class="CreateAnAccount">\n              <h3 class="CreateAnAccount_title">Create an account</h3>\n                <button  type="buttom" class="CreateAnAccount_buttom" id="CreateAnAccount_buttom">\n                  <a href="#/join//" class="CreateAnAccount_link">\n                    Join\n                  </a>\n                </button>\n            </div>\n        </div>\n    ',"/join//":()=>'\n        <div class="form_container">\n          <h2 class="title_login">Join</h2>\n          <p class="info_join">Join Movies For All, and manage your list to watch</p>\n            <form class="form_join" id="form_Join">\n                <label for="Name_Join" class="form-label">Name</label>\n                <input type="text" class="form-input" id="Name_Join">\n                <label for="Email_Join" class="form-label">Email</label>\n                <input type="email" class="form-input" id="Email_Join">\n                <label for="Password_Join" class="form-label">Password</label>\n                <input type="password" class="form-input" id="Password_Join">\n                <button type="submit" class="form_buttom" id="form_buttom">Submit</button>\n            </form>\n        </div>\n    ',"/swipe/":Swipe},A=async()=>{const e=document.getElementById("Header"),n=document.getElementById("Main");document.getElementById("Footer"),e.innerHTML=await(async()=>{const e=await t(w);return`\n      <nav class="Menu_container" id="Menu_container">\n        <ul class="Menu_list">\n          <li class="Menu_item" id="Login">\n            <a href="#/login/" class="Menu_link">Log in</a>\n          </li>\n          <li class="Menu_item" id="Join">\n            <a href="#/join//" class="Menu_link">Join</a>\n          </li>\n          <li class="Menu_item" id="NameUser">\n          </li>\n          <li class="Menu_item" id="Logaut">\n            <a href="#/" class="Menu_link">Log aut</a>\n          </li>\n          <div class="Menu_item buton_menu" id="buton_menu">\n            <div class="line one"></div>\n            <div class="line two"></div>\n            <div class="line tree"></div>\n          </div>\n        </ul>\n      </nav>\n      <a class="Logo_link" href="#/">\n        <div class="container_logo">\n          <img class="Logo" src="${v}" alt="Movies For All Logo">\n          <h1 class="Title">Movies For All</h1>\n        </div>\n      </a>\n      <div class="search_and-genre">\n        <div class="search_container" id="search_containe">\n          <input class="search" id="search" type="search" placeholder="Search">\n          <div class="loupe_container">\n            <img class="loupe" src=${g} alt="loupe">\n          </div>\n        </div>\n        <nav class="genre_container" id="genre_container">\n          ${e.genres.map((e=>`\n            <li class="genre_element" data-genre_id="${e.id}">\n            <a href="#/genre/${e.id}/${e.name.replace(/ /g,"-")}" class="genre_name">${e.name}</a>\n              </li>\n              `)).join("")}\n        </nav>\n      </div>\n    `})();let i=window.location.hash.slice(1).toLocaleLowerCase()||"/",s=await(e=>"/"===e?e:window.location.hash.slice(1,8))(i),a=T[s]?T[s]:c;n.innerHTML=await a(),(()=>{const e=document.getElementById("buton_menu"),t=document.querySelector(".one"),n=document.querySelector(".two"),i=document.querySelector(".tree"),s=document.getElementById("genre_container");e.addEventListener("click",(()=>{e.classList.toggle("buton_menuOpen"),t.classList.toggle("oneOpen"),n.classList.toggle("twoOpen"),i.classList.toggle("treeOpen"),s.classList.toggle("genre_containerOpen")}));const a=document.getElementById("search_containe");"/movie/"===window.location.hash.slice(1).toLocaleLowerCase().slice(0,7)&&(window.scroll({top:300,left:100,behavior:"smooth"}),a.style.display="none")})(),S.auth().onAuthStateChanged((e=>{const t=document.getElementById("NameUser"),n=document.getElementById("Logaut"),i=document.getElementById("Login"),s=document.getElementById("Join");if(null!=e){let a=e.displayName;i.style.display="none",s.style.display="none",n.style.display="block",t.style.display="block",t.innerHTML=`<a href="#/watch-list/${e.displayName}" class="Menu_link">${a}</a>`}else i.style.display="block",s.style.display="block",n.style.display="none",t.style.display="none";n.addEventListener("click",(e=>{e.preventDefault(),S.auth().signOut().then((()=>{console.log("Signed Out")}),(function(e){console.error("Sign Out Error",e)}))}))})),"/movie/"===s||"/tvshow"===s?(()=>{const e=I.auth().currentUser,t=window.location.hash.slice(1).split("/")[2],n=window.location.hash.slice(1).split("/")[1],i=document.getElementById("mas"),s=document.getElementById("menos");i.addEventListener("click",(()=>{i.style.display="none",s.style.display="block",L(e,t,n)})),s.addEventListener("click",(()=>{i.style.display="block",s.style.display="none"}))})():"/join//"===s?M():"/login/"===s&&(()=>{const e=document.getElementById("form_Login");e.addEventListener("submit",(t=>{t.preventDefault();const n=document.getElementById("Email_Login").value,i=document.getElementById("Password_Login").value;k.auth().signInWithEmailAndPassword(n,i).then((t=>{e.reset()})).catch((e=>{var t=e.code,n=e.message;console.log(t),console.log(n)}))}))})()};window.addEventListener("load",A),window.addEventListener("hashchange",A)})();